<!DOCTYPE html>
<html>
<head>
	<title>Ractive demo</title>
</head>
<body>
    <h1>My blank page</h1>

    <div id='container'>

     {{#person}}
        <div>

	        <address>
	            <strong>{{address.companyName}}</strong><br>
	            {{address.number}} {{address.street}}, {{address.apartment}}<br>
	            {{address.city}}, {{address.postcode}}<br>
	            <abbr title="Phone">P:</abbr> {{address.phone}}
	        </address>

	        <div><a id="link1" href="javascript:;">Update city (from AddressPanel)</a></div>

	    </div>

        <address>
            <strong>{{firstName}} {{lastName}}</strong><br>
            <a href="mailto:{{email}}">{{email}}</a>
        </address>

      <!-- {{/person}} -->

        <br/><br/>
        <div>
	        My cars:
	        
            {{#( sort1(cars))}}   <!--  {{#( sort1(person.cars))}} -->
                {{.}},
            {{/()}}

    	</div>

    {{/person}}  <!-- comment this out and uncomment the above two to make it working -->
    </div>

    <script src='Ractive.js'></script>
    <script>
        var ractive = new Ractive({
            el: 'container',
            template: '#container',
            data: {
            	"person":{
            		"lastName":"Grigorov",
            		"address": {
            			"phone":"(359) 123456789",
            			"street":"My Street",
            			"apartment":"ap. 2",
            			"number":34,
            			"companyName":"My Company, Inc.",
            			"postcode":"12345",
            			"city":"My City"
            		},
            		"email":"mgrigorov@apache.org",
            		"cars":["Opel","VW"],
            		"firstName":"Martin"
            	},
                sort1: function(cars) {
                    return cars.sort();
                }
            }
        });
    </script>
</body>
</html>